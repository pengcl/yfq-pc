"use strict";function getIndex(e,t,o){for(var n=0;n<e.length;n++)if(e[n][t]==o)return n}function GetDateStr(e,t){var o=e;o.setDate(o.getDate()+t);var n=o.getFullYear(),r=o.getMonth()+1,i=o.getDate();return n+"-"+r+"-"+i}function Map(){var e=function(e,t){this.key=e,this.value=t},t=function(t,o){for(var n=0;n<this.arr.length;n++)if(this.arr[n].key===t)return void(this.arr[n].value=o);this.arr[this.arr.length]=new e(t,o)},o=function(e){for(var t=0;t<this.arr.length;t++)if(this.arr[t].key===e)return this.arr[t].value;return null},n=function(e){for(var t,o=0;o<this.arr.length;o++)t=this.arr.pop(),t.key!==e&&this.arr.unshift(t)},r=function(){return this.arr.length},i=function(){return this.arr.length<=0};this.arr=new Array,this.get=o,this.put=t,this.remove=n,this.size=r,this.isEmpty=i}function operation(){var e="",t="",o="",n=null,r=window.location.href;this.init=function(n,r,i){e=n,t=r,o=i},this.record=function(e){return null!=e&&(n=new Map,n.put("operation",e),void this.writeOperation())},this.writeOperation=function(){var e=!1,t="flow="+r+"&operation="+n.get("operation");t=t.replace("?","&");var o="http://m.gd189fq.com/record/writeLog.html?"+t+"&s=wap";return $.ajax({type:"get",url:o,dataType:"jsonp",jsonp:"callback",jsonpCallback:"callback",success:function(e){},error:function(){}}),e},this.writeIntentionMsg=function(e,t,o,n){var r="http://m.gd189fq.com/record/intentionLog.html";$.get(r,{operationName:e,operationValue:t,dataType:o,opSeq:n},function(e){})}}function writebdLog(e,t,o,n){op.record(encodeURI(e+t))}function getMeiqia(){!function(e,t,o,n,r,i,a){e[n]=e[n]||function(){(e[n].a=e[n].a||[]).push(arguments)},i=t.createElement(o),a=t.getElementsByTagName(o)[0],i.async=!0,i.charset="UTF-8",i.src="https://static.meiqia.com/dist/meiqia.js?_=t",a.parentNode.insertBefore(i,a)}(window,document,"script","_MEIQIA"),_MEIQIA("entId",27864),_MEIQIA("fallback",1),_MEIQIA("withoutBtn")}function addFavorite(){if(document.all)try{window.external.addFavorite(window.location.href,document.title)}catch(e){alert("你的浏览器版本不支持快捷收藏，请使用Ctrl+D进行添加")}else alert("你的浏览器版本不支持快捷收藏，请使用Ctrl+D进行添加")}function getNumArr(e){var t=findJsonData(e),o=getPosNum(e,t);return o}function findJsonData(e){if(null==e)return jsonData;for(var t=[],o=jsonData.length,n=0,r=0;r<o;r++){var i=jsonData[r].n;i.indexOf(e)!=-1&&(t[n]=i,n+=1)}return t}function getPosNum(e,t){if(null==e||null==t)return null;for(var o=e.length,n=new Array,r=t.length,i=0;i<r;i++){var a=t[i],s=a.substring(o,o+1);null!=n&&n.indexOf(s)==-1&&n.push(s)}return n}function getPosNumArr(e,t){for(var t=[],o=jsonData.length,n=0;n<o;n++){var r=jsonData[n].n,i=r.substr(e-1,1);t.indexOf(i)==-1&&t.push(i)}return t.sort(function(e,t){return e-t}),t}function maskHeight(){$(".mask").height($(document).outerHeight())}function maskShow(e){$(e).show()}function tooltipShow(e){maskHeight(),$(e).show()}function lodingShow(){$("#idNumDiv").find(".loding").removeClass("hidden"),$(".numloded").addClass("hidden")}function lodingHidden(){$("#idNumDiv").find(".loding").addClass("hidden"),$(".numloded").removeClass("hidden")}function maskHeight(){$(".mask").height($(document).outerHeight())}function maskShow(e){$(e).show()}function tooltipShow(e){maskHeight(),$(e).show()}function lodingShow(){$("#idNumDiv").find(".loding").removeClass("hidden"),$(".numloded").addClass("hidden")}function lodingHidden(){$("#idNumDiv").find(".loding").addClass("hidden"),$(".numloded").removeClass("hidden")}function findNumbers(){var dt=(new Date).getTime();lodingShow(),$.ajax({dataType:"jsonp",type:"get",contentType:"application/json; charset=utf-8",url:"http://m.gd189fq.com/wap/taokafanghaoNew/fetchNumber.html",jsonp:"callback",jsonpCallback:"getNumberList",success:function(json){$.each(eval(json),function(e,t){t.t||jsonData.push(t)})},error:function(e){alert(e)}})}function toTop(){$("html,body").animate({scrollTop:$("body").offset().top},500,"swing")}function checkSameNumber(e,t){return e!==t}var app=angular.module("app",["ngRoute","appServices","appTemplates","ngAnimate","ngCookies","appFilters"]);app.config(["$routeProvider","$locationProvider",function(e,t){e.otherwise({redirectTo:"/phone/A/index"}),t.html5Mode(!0)}]).config(["$sceProvider",function(e){e.enabled(!1)}]).controller("appController",["$scope","$location",function(e,t){}]);var systemName="yfqmall",apiBaseUrl="http://m.yfq.cn",op=new operation,jsonData=new Array,dt=(new Date).getTime();Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,o=Number(arguments[1])||0;for(o=o<0?Math.ceil(o):Math.floor(o),o<0&&(o+=t);o<t;o++)if(o in this&&this[o]===e)return o;return-1});var curr="";findNumbers(),$(document).ready(function(){$("#header-qrcode").mouseover(function(){$("#qrcodeImg").show()}),$("#header-qrcode").mouseout(function(){$("#qrcodeImg").hide()}),$("#telcom").mouseover(function(){$(this).attr("src","http://www.yfq.cn/templates/default/pages/active/fanghao/images/telcom_big.jpg")}),$("#telcom").mouseout(function(){$(this).attr("src","http://www.yfq.cn/templates/default/pages/active/fanghao/images/telcom.jpg")})}),function(){$("#container").on("click",".cf-tab-nav ul li",function(e){e.preventDefault();var t=$(".cf-tab-nav ul li"),o=$(".cf-content .tab-content"),n=$(this).index();t.removeClass("active"),t.eq(n).addClass("active"),o.hide(),o.eq(n).show()})}();var a=0;$(window).scroll(function(){0==a&&$(".footer-ft").show(),a++});var appFilters=angular.module("appFilters",[]);appFilters.filter("trustHtml",["$sce",function(e){return function(t){return e.trustAsHtml(t)}}]),appFilters.filter("MB",function(){return function(e){var t=1024;Math.floor(Math.log(e)/Math.log(t));return e/t}}),appFilters.filter("GB",function(){return function(e){var t=1024,o=1024;return e/t/o}}),appFilters.filter("replaceS",function(){return function(e,t){if(void 0!=t||null!=t||""!=t)return e.replace(new RegExp(t,"g"),"<em>"+t+"</em>")}}),appFilters.filter("replaceInput",function(){return function(e,t){return void 0!=t&&""!=t?e.replace(new RegExp(t,"g"),"<em>"+t+"</em>"):e}}),appFilters.filter("onlyNumber",function(){return function(e){return e.replace(new RegExp(key,"g"),"<em>"+key+"</em>")}}),appFilters.filter("formatMoney",function(){return function(e,t){if(void 0!=e)return e.slice(0,t)+"<sub style='font-size:75%'>"+e.substr(t)+"</sub>"}}),appFilters.filter("formatPhone",function(){return function(e){var t=e.slice(0,-4)+" "+e.substr(-4);return t.slice(0,3)+" "+t.substr(3)}}),appFilters.filter("doubleName",function(){return function(e,t){return e=e.split(" + "),1==t?e[1]:e[0]}}),appFilters.filter("range",function(){return function(e,t,o){if(angular.isArray(e)&&angular.isNumber(t)&&angular.isNumber(o))return e.length<t?e:e.slice(t,o)}}),appFilters.filter("jm",function(){return function(e,t){for(var o=0;o<=t/5;o++){if(100*o==e)return 5*o;if(100*o>e)return 5*(o-1);if(100*o<e&&5*o>=t)return t}}}),appFilters.filter("mx",function(){return function(e){return e>7680?768:Math.round(.1*e)}}),appFilters.filter("numberUp",function(){return function(e){return Math.ceil(e)}}),appFilters.filter("mp",function(){return function(e){return 0==e?"&mp=0":""}}),appFilters.filter("other",function(){return function(e){var t=[];if(void 0!=e)return $.each(e,function(e,o){"iPhone"!=o.brandName&&"华为"!=o.brandName&&"OPPO"!=o.brandName&&"vivo"!=o.brandName&&"小米"!=o.brandName&&t.push(o)}),t}}),appFilters.filter("priceQuery",function(){return function(e,t){var o=[];return void 0!=e&&$.each(e,function(e,n){n.salePrice>=t[0]&&n.salePrice<t[1]&&o.push(n)}),o}}),appFilters.filter("phoneListFilter",function(){return function(e,t,o,n,r){var i=function(e){var o=[];return"all"==t?e:("other"==t?$.each(e,function(e,t){"iPhone"!=t.brandName&&"华为"!=t.brandName&&"OPPO"!=t.brandName&&"vivo"!=t.brandName&&"小米"!=t.brandName&&o.push(t)}):$.each(e,function(e,n){t==n.brandName&&o.push(n)}),o)},a=function(e){var t=[];return"all"==o?e:("other"==o?$.each(e,function(e,o){16!=o.flash&&32!=o.flash&&64!=o.flash&&128!=o.flash&&256!=o.flash&&t.push(o)}):$.each(e,function(e,n){o==n.flash&&t.push(n)}),t)},s=function(e){var t=[];return"all"==n?e:($.each(e,function(e,o){o.salePrice>=n[0]&&o.salePrice<n[1]&&t.push(o)}),t)},l=function(e){var t=[];return r?($.each(e,function(e,o){o.ifSellOut>0&&t.push(o)}),t):e};if(void 0!=e)return l(s(a(i(e))))}}),appFilters.filter("phoneFilter",function(){return function(e){return e.substr(0,4)+"****"+e.substr(8,11)}}),appFilters.filter("MathFloor",function(){return function(e){return Math.floor(e)}});var appServices=angular.module("appServices",["ngResource"]);appServices.factory("FlowPackages",["$resource",function(e){return e("http://app.gd189fq.com:3099/api/getFlowPackages/:cardType",null,{query:{method:"GET",params:{cardType:"0"},isArray:!0}})}]),appServices.factory("Phone",["$resource","$q",function(e,t){return e("/data/phones/:phoneId.json",{},{query:{method:"GET",params:{phoneId:"phones"},isArray:!0}})}]),appServices.factory("MarketSvc",["$http","$q",function(e,t){var o={};return o.getFlows=function(o){var n=t.defer();return e.jsonp(cfApi.apiHost+"/product/findProductFlows.ht?mobile="+o+"&callback=JSON_CALLBACK").success(function(e){return n.resolve(e)}).error(function(e){n.reject(e)}),n.promise},o.pay=function(o,n,r,i,a,s,l){var c=t.defer();return e.jsonp(cfApi.apiHost+"/order/submitFlowOrder.ht?mobile="+o+"&productId="+n+"&productFlowPriceId="+r+"&carrier="+i+"&activityTag="+a+"&channelCode="+s+"&successUrl="+l+"&callback=JSON_CALLBACK").success(function(e){return c.resolve(e)}).error(function(e){c.reject(e)}),c.promise},o}]),appServices.factory("AddressSvc",["$http","$q",function($http,$q){var service={};return service.getProvince=function(){var d=$q.defer();return $http.jsonp(cfApi.apiHost+"/wap/comm/getRegion.ht?need=province&key="+new Date+"&callback=JSON_CALLBACK").success(function(data){var _data=[];return $.each(eval(data),function(e,t){_data.push({name:"province",value:t.name})}),d.resolve(_data)}).error(function(e){d.reject(e)}),d.promise},service.getCity=function(province){var d=$q.defer();return $http.jsonp(cfApi.apiHost+"/wap/comm/getRegion.ht?need=city&province="+encodeURI(encodeURI(province))+"&key="+new Date+"&callback=JSON_CALLBACK").success(function(data){var _data=[];return $.each(eval(data),function(e,t){_data.push({name:"city",value:t.name})}),d.resolve(_data)}).error(function(e){d.reject(e)}),d.promise},service.getDistrict=function(province,city){var d=$q.defer();return $http.jsonp(cfApi.apiHost+"/wap/comm/getRegion.ht?need=district&province="+encodeURI(encodeURI(province))+"&city="+encodeURI(encodeURI(city))+"&key="+new Date+"&callback=JSON_CALLBACK").success(function(data){var _data=[];return $.each(eval(data),function(e,t){_data.push({name:"district",value:t.name})}),d.resolve(_data)}).error(function(e){d.reject(e)}),d.promise},service}]),appServices.factory("OrderSvc",["$http","$q",function(e,t){var o={};return o.getCounts=function(o){var n=t.defer();return e.jsonp(cfApi.apiHost+"/product/findOrderStatusCounts.ht?receiverMobile="+o+"&callback=JSON_CALLBACK").success(function(e){return n.resolve(e)}).error(function(e){n.reject(e)}),n.promise},o.getOrderList=function(o,n){var r=t.defer();return e.jsonp(cfApi.apiHost+"/product/searchOrders.ht?receiverMobile="+o+"&orderStatus="+n+"&callback=JSON_CALLBACK").success(function(e){return r.resolve(e)}).error(function(e){r.reject(e)}),r.promise},o.getOrder=function(o){var n=t.defer();return e.jsonp(cfApi.apiHost+"/order/getSalesOrder.ht?orderNo="+o+"&callback=JSON_CALLBACK").success(function(e){return n.resolve(e)}).error(function(e){n.reject(e)}),n.promise},o.getLogistics=function(o){var n=t.defer();return e.jsonp(cfApi.apiHost+"/product/findLogistics.ht?orderNo="+o+"&callback=JSON_CALLBACK").success(function(e){return n.resolve(e)}).error(function(e){n.reject(e)}),n.promise},o}]),function(){var e,t,o,n,r,i,a,s,l=[].slice,c={}.hasOwnProperty,p=function(e,t){function o(){this.constructor=e}for(var n in t)c.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e};a=function(){},t=function(){function e(){}return e.prototype.addEventListener=e.prototype.on,e.prototype.on=function(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this},e.prototype.emit=function(){var e,t,o,n,r,i;if(n=arguments[0],e=2<=arguments.length?l.call(arguments,1):[],this._callbacks=this._callbacks||{},o=this._callbacks[n])for(r=0,i=o.length;i>r;r++)t=o[r],t.apply(this,e);return this},e.prototype.removeListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.off=function(e,t){var o,n,r,i,a;if(!this._callbacks||0===arguments.length)return this._callbacks={},this;if(n=this._callbacks[e],!n)return this;if(1===arguments.length)return delete this._callbacks[e],this;for(r=i=0,a=n.length;a>i;r=++i)if(o=n[r],o===t){n.splice(r,1);break}return this},e}(),e=function(e){function o(e,t){var r,i,a;if(this.element=e,this.version=o.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(o.instances.push(this),this.element.dropzone=this,r=null!=(a=o.optionsForElement(this.element))?a:{},this.options=n({},this.defaultOptions,r,null!=t?t:{}),this.options.forceFallback||!o.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(i=this.getExistingFallback())&&i.parentNode&&i.parentNode.removeChild(i),this.options.previewsContainer!==!1&&(this.previewsContainer=this.options.previewsContainer?o.getElement(this.options.previewsContainer,"previewsContainer"):this.element),this.options.clickable&&(this.clickableElements=this.options.clickable===!0?[this.element]:o.getElements(this.options.clickable,"clickable")),this.init()}var n,r;return p(o,e),o.prototype.Emitter=t,o.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],o.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1e3,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(e,t){return t()},init:function(){return a},forceFallback:!1,fallback:function(){var e,t,n,r,i,a;for(this.element.className=""+this.element.className+" dz-browser-not-supported",a=this.element.getElementsByTagName("div"),r=0,i=a.length;i>r;r++)e=a[r],/(^| )dz-message($| )/.test(e.className)&&(t=e,e.className="dz-message");return t||(t=o.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(t)),n=t.getElementsByTagName("span")[0],n&&(null!=n.textContent?n.textContent=this.options.dictFallbackMessage:null!=n.innerText&&(n.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(e){var t,o,n;return t={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},o=e.width/e.height,t.optWidth=this.options.thumbnailWidth,t.optHeight=this.options.thumbnailHeight,null==t.optWidth&&null==t.optHeight?(t.optWidth=t.srcWidth,t.optHeight=t.srcHeight):null==t.optWidth?t.optWidth=o*t.optHeight:null==t.optHeight&&(t.optHeight=1/o*t.optWidth),n=t.optWidth/t.optHeight,e.height<t.optHeight||e.width<t.optWidth?(t.trgHeight=t.srcHeight,t.trgWidth=t.srcWidth):o>n?(t.srcHeight=e.height,t.srcWidth=t.srcHeight*n):(t.srcWidth=e.width,t.srcHeight=t.srcWidth/n),t.srcX=(e.width-t.srcWidth)/2,t.srcY=(e.height-t.srcHeight)/2,t},drop:function(){return this.element.classList.remove("dz-drag-hover")},dragstart:a,dragend:function(){return this.element.classList.remove("dz-drag-hover")},dragenter:function(){return this.element.classList.add("dz-drag-hover")},dragover:function(){return this.element.classList.add("dz-drag-hover")},dragleave:function(){return this.element.classList.remove("dz-drag-hover")},paste:a,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){var t,n,r,i,a,s,l,c,p,u,d,h,f;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(e.previewElement=o.createElement(this.options.previewTemplate.trim()),e.previewTemplate=e.previewElement,this.previewsContainer.appendChild(e.previewElement),u=e.previewElement.querySelectorAll("[data-dz-name]"),i=0,l=u.length;l>i;i++)t=u[i],t.textContent=this._renameFilename(e.name);for(d=e.previewElement.querySelectorAll("[data-dz-size]"),a=0,c=d.length;c>a;a++)t=d[a],t.innerHTML=this.filesize(e.size);for(this.options.addRemoveLinks&&(e._removeLink=o.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),e.previewElement.appendChild(e._removeLink)),n=function(t){return function(n){return n.preventDefault(),n.stopPropagation(),e.status===o.UPLOADING?o.confirm(t.options.dictCancelUploadConfirmation,function(){return t.removeFile(e)}):t.options.dictRemoveFileConfirmation?o.confirm(t.options.dictRemoveFileConfirmation,function(){return t.removeFile(e)}):t.removeFile(e)}}(this),h=e.previewElement.querySelectorAll("[data-dz-remove]"),f=[],s=0,p=h.length;p>s;s++)r=h[s],f.push(r.addEventListener("click",n));return f}},removedfile:function(e){var t;return e.previewElement&&null!=(t=e.previewElement)&&t.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){var o,n,r,i;if(e.previewElement){for(e.previewElement.classList.remove("dz-file-preview"),i=e.previewElement.querySelectorAll("[data-dz-thumbnail]"),n=0,r=i.length;r>n;n++)o=i[n],o.alt=e.name,o.src=t;return setTimeout(function(){return function(){return e.previewElement.classList.add("dz-image-preview")}}(this),1)}},error:function(e,t){var o,n,r,i,a;if(e.previewElement){for(e.previewElement.classList.add("dz-error"),"String"!=typeof t&&t.error&&(t=t.error),i=e.previewElement.querySelectorAll("[data-dz-errormessage]"),a=[],n=0,r=i.length;r>n;n++)o=i[n],a.push(o.textContent=t);return a}},errormultiple:a,processing:function(e){return e.previewElement&&(e.previewElement.classList.add("dz-processing"),e._removeLink)?e._removeLink.textContent=this.options.dictCancelUpload:void 0},processingmultiple:a,uploadprogress:function(e,t){var o,n,r,i,a;if(e.previewElement){for(i=e.previewElement.querySelectorAll("[data-dz-uploadprogress]"),a=[],n=0,r=i.length;r>n;n++)o=i[n],a.push("PROGRESS"===o.nodeName?o.value=t:o.style.width=""+t+"%");return a}},totaluploadprogress:a,sending:a,sendingmultiple:a,success:function(e){return e.previewElement?e.previewElement.classList.add("dz-success"):void 0},successmultiple:a,canceled:function(e){return this.emit("error",e,"Upload canceled.")},canceledmultiple:a,complete:function(e){return e._removeLink&&(e._removeLink.textContent=this.options.dictRemoveFile),e.previewElement?e.previewElement.classList.add("dz-complete"):void 0},completemultiple:a,maxfilesexceeded:a,maxfilesreached:a,queuecomplete:a,addedfiles:a,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>'},n=function(){var e,t,o,n,r,i,a;for(n=arguments[0],o=2<=arguments.length?l.call(arguments,1):[],i=0,a=o.length;a>i;i++){t=o[i];for(e in t)r=t[e],n[e]=r}return n},o.prototype.getAcceptedFiles=function(){var e,t,o,n,r;for(n=this.files,r=[],t=0,o=n.length;o>t;t++)e=n[t],e.accepted&&r.push(e);return r},o.prototype.getRejectedFiles=function(){var e,t,o,n,r;for(n=this.files,r=[],t=0,o=n.length;o>t;t++)e=n[t],e.accepted||r.push(e);return r},o.prototype.getFilesWithStatus=function(e){var t,o,n,r,i;for(r=this.files,i=[],o=0,n=r.length;n>o;o++)t=r[o],t.status===e&&i.push(t);return i},o.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(o.QUEUED)},o.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(o.UPLOADING)},o.prototype.getAddedFiles=function(){return this.getFilesWithStatus(o.ADDED)},o.prototype.getActiveFiles=function(){var e,t,n,r,i;for(r=this.files,i=[],t=0,n=r.length;n>t;t++)e=r[t],(e.status===o.UPLOADING||e.status===o.QUEUED)&&i.push(e);return i},o.prototype.init=function(){var e,t,n,r,i,a,s;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(o.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(n=function(e){return function(){return e.hiddenFileInput&&e.hiddenFileInput.parentNode.removeChild(e.hiddenFileInput),e.hiddenFileInput=document.createElement("input"),e.hiddenFileInput.setAttribute("type","file"),(null==e.options.maxFiles||e.options.maxFiles>1)&&e.hiddenFileInput.setAttribute("multiple","multiple"),e.hiddenFileInput.className="dz-hidden-input",null!=e.options.acceptedFiles&&e.hiddenFileInput.setAttribute("accept",e.options.acceptedFiles),null!=e.options.capture&&e.hiddenFileInput.setAttribute("capture",e.options.capture),e.hiddenFileInput.style.visibility="hidden",e.hiddenFileInput.style.position="absolute",e.hiddenFileInput.style.top="0",e.hiddenFileInput.style.left="0",e.hiddenFileInput.style.height="0",e.hiddenFileInput.style.width="0",document.querySelector(e.options.hiddenInputContainer).appendChild(e.hiddenFileInput),e.hiddenFileInput.addEventListener("change",function(){var t,o,r,i;if(o=e.hiddenFileInput.files,o.length)for(r=0,i=o.length;i>r;r++)t=o[r],e.addFile(t);return e.emit("addedfiles",o),n()})}}(this))(),this.URL=null!=(a=window.URL)?a:window.webkitURL,s=this.events,r=0,i=s.length;i>r;r++)e=s[r],this.on(e,this.options[e]);return this.on("uploadprogress",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("removedfile",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("canceled",function(e){return function(t){return e.emit("complete",t)}}(this)),this.on("complete",function(e){return function(){return 0===e.getAddedFiles().length&&0===e.getUploadingFiles().length&&0===e.getQueuedFiles().length?setTimeout(function(){return e.emit("queuecomplete")},0):void 0}}(this)),t=function(e){return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(e){return function(t){return e.emit("dragstart",t)}}(this),dragenter:function(e){return function(o){return t(o),e.emit("dragenter",o)}}(this),dragover:function(e){return function(o){var n;try{n=o.dataTransfer.effectAllowed}catch(r){}return o.dataTransfer.dropEffect="move"===n||"linkMove"===n?"move":"copy",t(o),e.emit("dragover",o)}}(this),dragleave:function(e){return function(t){return e.emit("dragleave",t)}}(this),drop:function(e){return function(o){return t(o),e.drop(o)}}(this),dragend:function(e){return function(t){return e.emit("dragend",t)}}(this)}}],this.clickableElements.forEach(function(e){return function(t){return e.listeners.push({element:t,events:{click:function(n){return(t!==e.element||n.target===e.element||o.elementInside(n.target,e.element.querySelector(".dz-message")))&&e.hiddenFileInput.click(),!0}}})}}(this)),this.enable(),this.options.init.call(this)},o.prototype.destroy=function(){var e;return this.disable(),this.removeAllFiles(!0),(null!=(e=this.hiddenFileInput)?e.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,o.instances.splice(o.instances.indexOf(this),1)},o.prototype.updateTotalUploadProgress=function(){var e,t,o,n,r,i,a,s;if(n=0,o=0,e=this.getActiveFiles(),e.length){for(s=this.getActiveFiles(),i=0,a=s.length;a>i;i++)t=s[i],n+=t.upload.bytesSent,o+=t.upload.total;r=100*n/o}else r=100;return this.emit("totaluploadprogress",r,o,n)},o.prototype._getParamName=function(e){return"function"==typeof this.options.paramName?this.options.paramName(e):""+this.options.paramName+(this.options.uploadMultiple?"["+e+"]":"")},o.prototype._renameFilename=function(e){return"function"!=typeof this.options.renameFilename?e:this.options.renameFilename(e)},o.prototype.getFallbackForm=function(){var e,t,n,r;return(e=this.getExistingFallback())?e:(n='<div class="dz-fallback">',this.options.dictFallbackText&&(n+="<p>"+this.options.dictFallbackText+"</p>"),n+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',t=o.createElement(n),"FORM"!==this.element.tagName?(r=o.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),r.appendChild(t)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=r?r:t)},o.prototype.getExistingFallback=function(){var e,t,o,n,r,i;for(t=function(e){var t,o,n;for(o=0,n=e.length;n>o;o++)if(t=e[o],/(^| )fallback($| )/.test(t.className))return t},i=["div","form"],n=0,r=i.length;r>n;n++)if(o=i[n],e=t(this.element.getElementsByTagName(o)))return e},o.prototype.setupEventListeners=function(){var e,t,o,n,r,i,a;for(i=this.listeners,a=[],n=0,r=i.length;r>n;n++)e=i[n],a.push(function(){var n,r;n=e.events,r=[];for(t in n)o=n[t],r.push(e.element.addEventListener(t,o,!1));return r}());return a},o.prototype.removeEventListeners=function(){var e,t,o,n,r,i,a;for(i=this.listeners,a=[],n=0,r=i.length;r>n;n++)e=i[n],a.push(function(){var n,r;n=e.events,r=[];for(t in n)o=n[t],r.push(e.element.removeEventListener(t,o,!1));return r}());return a},o.prototype.disable=function(){var e,t,o,n,r;for(this.clickableElements.forEach(function(e){return e.classList.remove("dz-clickable")}),this.removeEventListeners(),n=this.files,r=[],t=0,o=n.length;o>t;t++)e=n[t],r.push(this.cancelUpload(e));return r},o.prototype.enable=function(){return this.clickableElements.forEach(function(e){return e.classList.add("dz-clickable")}),this.setupEventListeners()},o.prototype.filesize=function(e){var t,o,n,r,i,a,s,l;if(n=0,r="b",e>0){for(a=["TB","GB","MB","KB","b"],o=s=0,l=a.length;l>s;o=++s)if(i=a[o],t=Math.pow(this.options.filesizeBase,4-o)/10,e>=t){n=e/Math.pow(this.options.filesizeBase,4-o),r=i;break}n=Math.round(10*n)/10}return"<strong>"+n+"</strong> "+r},o.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},o.prototype.drop=function(e){var t,o;e.dataTransfer&&(this.emit("drop",e),t=e.dataTransfer.files,this.emit("addedfiles",t),t.length&&(o=e.dataTransfer.items,o&&o.length&&null!=o[0].webkitGetAsEntry?this._addFilesFromItems(o):this.handleFiles(t)))},o.prototype.paste=function(e){var t,o;if(null!=(null!=e&&null!=(o=e.clipboardData)?o.items:void 0))return this.emit("paste",e),t=e.clipboardData.items,
t.length?this._addFilesFromItems(t):void 0},o.prototype.handleFiles=function(e){var t,o,n,r;for(r=[],o=0,n=e.length;n>o;o++)t=e[o],r.push(this.addFile(t));return r},o.prototype._addFilesFromItems=function(e){var t,o,n,r,i;for(i=[],n=0,r=e.length;r>n;n++)o=e[n],i.push(null!=o.webkitGetAsEntry&&(t=o.webkitGetAsEntry())?t.isFile?this.addFile(o.getAsFile()):t.isDirectory?this._addFilesFromDirectory(t,t.name):void 0:null!=o.getAsFile&&(null==o.kind||"file"===o.kind)?this.addFile(o.getAsFile()):void 0);return i},o.prototype._addFilesFromDirectory=function(e,t){var o,n,r;return o=e.createReader(),n=function(e){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(e):void 0},(r=function(e){return function(){return o.readEntries(function(o){var n,i,a;if(o.length>0){for(i=0,a=o.length;a>i;i++)n=o[i],n.isFile?n.file(function(o){return e.options.ignoreHiddenFiles&&"."===o.name.substring(0,1)?void 0:(o.fullPath=""+t+"/"+o.name,e.addFile(o))}):n.isDirectory&&e._addFilesFromDirectory(n,""+t+"/"+n.name);r()}return null},n)}}(this))()},o.prototype.accept=function(e,t){return e.size>1024*this.options.maxFilesize*1024?t(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):o.isValidFile(e,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(t(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,t):t(this.options.dictInvalidFileType)},o.prototype.addFile=function(e){return e.upload={progress:0,total:e.size,bytesSent:0},this.files.push(e),e.status=o.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,function(t){return function(o){return o?(e.accepted=!1,t._errorProcessing([e],o)):(e.accepted=!0,t.options.autoQueue&&t.enqueueFile(e)),t._updateMaxFilesReachedClass()}}(this))},o.prototype.enqueueFiles=function(e){var t,o,n;for(o=0,n=e.length;n>o;o++)t=e[o],this.enqueueFile(t);return null},o.prototype.enqueueFile=function(e){if(e.status!==o.ADDED||e.accepted!==!0)throw new Error("This file can't be queued because it has already been processed or was rejected.");return e.status=o.QUEUED,this.options.autoProcessQueue?setTimeout(function(e){return function(){return e.processQueue()}}(this),0):void 0},o.prototype._thumbnailQueue=[],o.prototype._processingThumbnail=!1,o.prototype._enqueueThumbnail=function(e){return this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*this.options.maxThumbnailFilesize*1024?(this._thumbnailQueue.push(e),setTimeout(function(e){return function(){return e._processThumbnailQueue()}}(this),0)):void 0},o.prototype._processThumbnailQueue=function(){return this._processingThumbnail||0===this._thumbnailQueue.length?void 0:(this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),function(e){return function(){return e._processingThumbnail=!1,e._processThumbnailQueue()}}(this)))},o.prototype.removeFile=function(e){return e.status===o.UPLOADING&&this.cancelUpload(e),this.files=s(this.files,e),this.emit("removedfile",e),0===this.files.length?this.emit("reset"):void 0},o.prototype.removeAllFiles=function(e){var t,n,r,i;for(null==e&&(e=!1),i=this.files.slice(),n=0,r=i.length;r>n;n++)t=i[n],(t.status!==o.UPLOADING||e)&&this.removeFile(t);return null},o.prototype.createThumbnail=function(e,t){var o;return o=new FileReader,o.onload=function(n){return function(){return"image/svg+xml"===e.type?(n.emit("thumbnail",e,o.result),void(null!=t&&t())):n.createThumbnailFromUrl(e,o.result,t)}}(this),o.readAsDataURL(e)},o.prototype.createThumbnailFromUrl=function(e,t,o,n){var r;return r=document.createElement("img"),n&&(r.crossOrigin=n),r.onload=function(t){return function(){var n,a,s,l,c,p,u,d;return e.width=r.width,e.height=r.height,s=t.options.resize.call(t,e),null==s.trgWidth&&(s.trgWidth=s.optWidth),null==s.trgHeight&&(s.trgHeight=s.optHeight),n=document.createElement("canvas"),a=n.getContext("2d"),n.width=s.trgWidth,n.height=s.trgHeight,i(a,r,null!=(c=s.srcX)?c:0,null!=(p=s.srcY)?p:0,s.srcWidth,s.srcHeight,null!=(u=s.trgX)?u:0,null!=(d=s.trgY)?d:0,s.trgWidth,s.trgHeight),l=n.toDataURL("image/png"),t.emit("thumbnail",e,l),null!=o?o():void 0}}(this),null!=o&&(r.onerror=o),r.src=t},o.prototype.processQueue=function(){var e,t,o,n;if(t=this.options.parallelUploads,o=this.getUploadingFiles().length,e=o,!(o>=t)&&(n=this.getQueuedFiles(),n.length>0)){if(this.options.uploadMultiple)return this.processFiles(n.slice(0,t-o));for(;t>e;){if(!n.length)return;this.processFile(n.shift()),e++}}},o.prototype.processFile=function(e){return this.processFiles([e])},o.prototype.processFiles=function(e){var t,n,r;for(n=0,r=e.length;r>n;n++)t=e[n],t.processing=!0,t.status=o.UPLOADING,this.emit("processing",t);return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)},o.prototype._getFilesWithXhr=function(e){var t,o;return o=function(){var o,n,r,i;for(r=this.files,i=[],o=0,n=r.length;n>o;o++)t=r[o],t.xhr===e&&i.push(t);return i}.call(this)},o.prototype.cancelUpload=function(e){var t,n,r,i,a,s,l;if(e.status===o.UPLOADING){for(n=this._getFilesWithXhr(e.xhr),r=0,a=n.length;a>r;r++)t=n[r],t.status=o.CANCELED;for(e.xhr.abort(),i=0,s=n.length;s>i;i++)t=n[i],this.emit("canceled",t);this.options.uploadMultiple&&this.emit("canceledmultiple",n)}else((l=e.status)===o.ADDED||l===o.QUEUED)&&(e.status=o.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));return this.options.autoProcessQueue?this.processQueue():void 0},r=function(){var e,t;return t=arguments[0],e=2<=arguments.length?l.call(arguments,1):[],"function"==typeof t?t.apply(this,e):t},o.prototype.uploadFile=function(e){return this.uploadFiles([e])},o.prototype.uploadFiles=function(e){var t,i,a,s,l,c,p,u,d,h,f,m,g,v,y,b,$,w,C,T,S,k,N,F,D,L,P,A,I,E,_,x,z,M;for(C=new XMLHttpRequest,T=0,F=e.length;F>T;T++)t=e[T],t.xhr=C;m=r(this.options.method,e),$=r(this.options.url,e),C.open(m,$,!0),C.withCredentials=!!this.options.withCredentials,y=null,a=function(o){return function(){var n,r,i;for(i=[],n=0,r=e.length;r>n;n++)t=e[n],i.push(o._errorProcessing(e,y||o.options.dictResponseError.replace("{{statusCode}}",C.status),C));return i}}(this),b=function(o){return function(n){var r,i,a,s,l,c,p,u,d;if(null!=n)for(i=100*n.loaded/n.total,a=0,c=e.length;c>a;a++)t=e[a],t.upload={progress:i,total:n.total,bytesSent:n.loaded};else{for(r=!0,i=100,s=0,p=e.length;p>s;s++)t=e[s],(100!==t.upload.progress||t.upload.bytesSent!==t.upload.total)&&(r=!1),t.upload.progress=i,t.upload.bytesSent=t.upload.total;if(r)return}for(d=[],l=0,u=e.length;u>l;l++)t=e[l],d.push(o.emit("uploadprogress",t,i,t.upload.bytesSent));return d}}(this),C.onload=function(t){return function(n){var r;if(e[0].status!==o.CANCELED&&4===C.readyState){if(y=C.responseText,C.getResponseHeader("content-type")&&~C.getResponseHeader("content-type").indexOf("application/json"))try{y=JSON.parse(y)}catch(i){n=i,y="Invalid JSON response from server."}return b(),200<=(r=C.status)&&300>r?t._finished(e,y,n):a()}}}(this),C.onerror=function(){return function(){return e[0].status!==o.CANCELED?a():void 0}}(this),v=null!=(I=C.upload)?I:C,v.onprogress=b,c={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&n(c,this.options.headers);for(s in c)l=c[s],l&&C.setRequestHeader(s,l);if(i=new FormData,this.options.params){E=this.options.params;for(f in E)w=E[f],i.append(f,w)}for(S=0,D=e.length;D>S;S++)t=e[S],this.emit("sending",t,C,i);if(this.options.uploadMultiple&&this.emit("sendingmultiple",e,C,i),"FORM"===this.element.tagName)for(_=this.element.querySelectorAll("input, textarea, select, button"),k=0,L=_.length;L>k;k++)if(u=_[k],d=u.getAttribute("name"),h=u.getAttribute("type"),"SELECT"===u.tagName&&u.hasAttribute("multiple"))for(x=u.options,N=0,P=x.length;P>N;N++)g=x[N],g.selected&&i.append(d,g.value);else(!h||"checkbox"!==(z=h.toLowerCase())&&"radio"!==z||u.checked)&&i.append(d,u.value);for(p=A=0,M=e.length-1;M>=0?M>=A:A>=M;p=M>=0?++A:--A)i.append(this._getParamName(p),e[p],this._renameFilename(e[p].name));return this.submitRequest(C,i,e)},o.prototype.submitRequest=function(e,t){return e.send(t)},o.prototype._finished=function(e,t,n){var r,i,a;for(i=0,a=e.length;a>i;i++)r=e[i],r.status=o.SUCCESS,this.emit("success",r,t,n),this.emit("complete",r);return this.options.uploadMultiple&&(this.emit("successmultiple",e,t,n),this.emit("completemultiple",e)),this.options.autoProcessQueue?this.processQueue():void 0},o.prototype._errorProcessing=function(e,t,n){var r,i,a;for(i=0,a=e.length;a>i;i++)r=e[i],r.status=o.ERROR,this.emit("error",r,t,n),this.emit("complete",r);return this.options.uploadMultiple&&(this.emit("errormultiple",e,t,n),this.emit("completemultiple",e)),this.options.autoProcessQueue?this.processQueue():void 0},o}(t),e.version="4.3.0",e.options={},e.optionsForElement=function(t){return t.getAttribute("id")?e.options[o(t.getAttribute("id"))]:void 0},e.instances=[],e.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),null==(null!=e?e.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone},e.autoDiscover=!0,e.discover=function(){var t,o,n,r,i,a;for(document.querySelectorAll?n=document.querySelectorAll(".dropzone"):(n=[],t=function(e){var t,o,r,i;for(i=[],o=0,r=e.length;r>o;o++)t=e[o],i.push(/(^| )dropzone($| )/.test(t.className)?n.push(t):void 0);return i},t(document.getElementsByTagName("div")),t(document.getElementsByTagName("form"))),a=[],r=0,i=n.length;i>r;r++)o=n[r],a.push(e.optionsForElement(o)!==!1?new e(o):void 0);return a},e.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],e.isBrowserSupported=function(){var t,o,n,r,i;if(t=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(i=e.blacklistedBrowsers,n=0,r=i.length;r>n;n++)o=i[n],o.test(navigator.userAgent)&&(t=!1);else t=!1;else t=!1;return t},s=function(e,t){var o,n,r,i;for(i=[],n=0,r=e.length;r>n;n++)o=e[n],o!==t&&i.push(o);return i},o=function(e){return e.replace(/[\-_](\w)/g,function(e){return e.charAt(1).toUpperCase()})},e.createElement=function(e){var t;return t=document.createElement("div"),t.innerHTML=e,t.childNodes[0]},e.elementInside=function(e,t){if(e===t)return!0;for(;e=e.parentNode;)if(e===t)return!0;return!1},e.getElement=function(e,t){var o;if("string"==typeof e?o=document.querySelector(e):null!=e.nodeType&&(o=e),null==o)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector or a plain HTML element.");return o},e.getElements=function(e,t){var o,n,r,i,a,s,l,c;if(e instanceof Array){r=[];try{for(i=0,s=e.length;s>i;i++)n=e[i],r.push(this.getElement(n,t))}catch(p){o=p,r=null}}else if("string"==typeof e)for(r=[],c=document.querySelectorAll(e),a=0,l=c.length;l>a;a++)n=c[a],r.push(n);else null!=e.nodeType&&(r=[e]);if(null==r||!r.length)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return r},e.confirm=function(e,t,o){return window.confirm(e)?t():null!=o?o():void 0},e.isValidFile=function(e,t){var o,n,r,i,a;if(!t)return!0;for(t=t.split(","),n=e.type,o=n.replace(/\/.*$/,""),i=0,a=t.length;a>i;i++)if(r=t[i],r=r.trim(),"."===r.charAt(0)){if(-1!==e.name.toLowerCase().indexOf(r.toLowerCase(),e.name.length-r.length))return!0}else if(/\/\*$/.test(r)){if(o===r.replace(/\/.*$/,""))return!0}else if(n===r)return!0;return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(t){return this.each(function(){return new e(this,t)})}),"undefined"!=typeof module&&null!==module?module.exports=e:window.Dropzone=e,e.ADDED="added",e.QUEUED="queued",e.ACCEPTED=e.QUEUED,e.UPLOADING="uploading",e.PROCESSING=e.UPLOADING,e.CANCELED="canceled",e.ERROR="error",e.SUCCESS="success",r=function(e){var t,o,n,r,i,a,s,l,c,p;for(s=e.naturalWidth,a=e.naturalHeight,o=document.createElement("canvas"),o.width=1,o.height=a,n=o.getContext("2d"),n.drawImage(e,0,0),r=n.getImageData(0,0,1,a).data,p=0,i=a,l=a;l>p;)t=r[4*(l-1)+3],0===t?i=l:p=l,l=i+p>>1;return c=l/a,0===c?1:c},i=function(e,t,o,n,i,a,s,l,c,p){var u;return u=r(t),e.drawImage(t,o,n,i,a,s,l,c,p/u)},n=function(e,t){var o,n,r,i,a,s,l,c,p;if(r=!1,p=!0,n=e.document,c=n.documentElement,o=n.addEventListener?"addEventListener":"attachEvent",l=n.addEventListener?"removeEventListener":"detachEvent",s=n.addEventListener?"":"on",i=function(o){return"readystatechange"!==o.type||"complete"===n.readyState?(("load"===o.type?e:n)[l](s+o.type,i,!1),!r&&(r=!0)?t.call(e,o.type||o):void 0):void 0},a=function(){var e;try{c.doScroll("left")}catch(t){return e=t,void setTimeout(a,50)}return i("poll")},"complete"!==n.readyState){if(n.createEventObject&&c.doScroll){try{p=!e.frameElement}catch(u){}p&&a()}return n[o](s+"DOMContentLoaded",i,!1),n[o](s+"readystatechange",i,!1),e[o](s+"load",i,!1)}},e._autoDiscoverFunction=function(){return e.autoDiscover?e.discover():void 0},n(window,e._autoDiscoverFunction)}.call(this),app.directive("ngActivity",["$location",function(e){return{restrict:"C",templateUrl:"modules/activity/activity.html",link:function(t,o,n){t.activity=e.search().activity}}}]),app.directive("adr",["$timeout","AddressSvc",function(e,t){return{restrict:"EA",templateUrl:"modules/adr/adr.html",link:function(e,o,n){e.address={},t.getProvince().then(function(t){e.pickers=t}),e.setPicker=function(o){e.picker=o,console.log(o),"province"===o.name&&(e.address.province=o.value,console.log(o.value),t.getCity(o.value).then(function(t){e.pickers=t})),"city"===o.name&&(e.address.city=o.value,t.getDistrict(e.address.province,o.value).then(function(t){e.pickers=t})),"district"===o.name&&(e.isPickerShow=!1,e.address.district=o.value,t.getProvince().then(function(t){e.pickers=t}))},e.setPickerShow=function(){e.isPickerShow=!0},e.setPickerHide=function(t){e.$root.isPickerShow=!1}}}}]),app.directive("chooseM",["$location",function(e){return{restrict:"C",templateUrl:"modules/chooseMore/chooseMore.html",link:function(e,t,o){}}}]),app.directive("chooseNumber",["$compile",function(e){return{restrict:"E",templateUrl:"modules/chooseNumber/chooseNumber.html",controller:"chooseNumberController",link:function(e,t){}}}]).controller("chooseNumberController",["$scope","$cookieStore","$http","$compile",function($scope,$cookieStore,$http){$scope.phoneData=new Array;var curr;$scope.onclickSpan=function(parenIndex,pos){$("#idNumDiv").attr("class","tooltip bottom t-"+parenIndex+" l"+pos);var i,numNow,selectSpan;for(numNow="",selectSpan=$("#choose-nums"+parenIndex+" li"),curr=pos,selectSpan.eq(pos).nextAll().attr("class","none"),selectSpan.eq(pos).attr("data-value",""),selectSpan.eq(pos).nextAll().attr("data-value",""),i=0;i<curr;i++)numNow+=selectSpan.eq(i).attr("data-value");var jsonDs=getNumArr(numNow);$("#idNumDiv .numberContent ul").html(""),""==selectSpan.eq(i-1).attr("data-value")?$("#idNumDiv .numberContent ul").append("<li class='alert' style='background:none; color:#000; font-size:14px;'>请先选择上一位号码，谢谢：）</li>"):(selectSpan.eq(pos).attr("class","wnone"),$.each(eval(jsonDs),function(e,t){var o=$compile("<li ng-click='onclickLi("+parenIndex+","+t+")' class='n"+t+"' value="+t+">"+t+"</li>")($scope);$("#idNumDiv .numberContent ul").append(o)}),tooltipShow("#idNumDiv")),$(".i-package-info").find("hr").hide(),$(".i-package-info").find(".more").hide()},$scope.onclickLi=function(e,t){var o,n,r,i;if($("#choose-nums"+e+" li").eq(curr).attr("data-value",t),$("#choose-nums"+e+" li").eq(curr).attr("class","s"+t),$("#idNumDiv").css("display","none"),$("#idNumDiv").attr("class","tooltip bottom t-"+e+" l"+curr),curr<10)return void $scope.onclickSpan(e,curr+1);if(1==e&&10==curr){for($("#idNumDiv .tooltip-arrow").css("class","l10"),n="",o=0;o<11;o++)n+=$("#choose-nums"+e+" li").eq(o).attr("data-value");n==$("#number2").val()?(alert("您选择的号码重复，请重新选择！"),$scope.onclickSpan(1,10)):($("#number").val(n),r=n)}if(2==e&&10==curr){for($("#idNumDiv .tooltip-arrow").css("class","l10"),n="",o=0;o<11;o++)n+=$("#choose-nums"+e+" li").eq(o).attr("data-value");n==$("#number").val()?(alert("您选择的号码重复，请重新选择！"),$scope.onclickSpan(2,10)):($("#number2").val(n),i=n)}}}]),app.directive("ngComments",["$location",function(e){return{restrict:"C",templateUrl:"modules/comments/comments.html",link:function(e,t,o){var n=$(".comments-tips"),r=$(".qrcode-tips");e.scrollTo=function(t,o,n){e.navSortIndex=o,$("html,body").animate({scrollTop:0},500,"swing")},e.getComments=function(e){e.preventDefault(),getMeiqia(),_MEIQIA("showPanel")},e.showComments=function(e){e.preventDefault(),n.show()},e.hideComments=function(e){e.preventDefault(),n.hide()},e.addFavorite=function(e){e.preventDefault(),addFavorite()},e.showQrCode=function(e){e.preventDefault(),r.show()},e.hideQrCode=function(e){e.preventDefault(),r.hide()}}}}]),app.directive("detailsTabs",["$location",function(e){return{restrict:"C",templateUrl:"modules/detailsTabs/detailsTabs.html",link:function(e,t,o){$(t).find("img");e.fullDescription=e.phone.phoneTypes[0].fullDescription,e.getContent=function(t){var o=["_ProductDetails","_Specifications","_CommentsUser","_PurchaseNotes"];writebdLog(e.category,o[t],"渠道号",e.gh)}}}}]),app.directive("ngGh",["$location",function(e){return{restrict:"C",templateUrl:"modules/gh/gh.html",link:function(t,o,n){t.gh=e.search().gh}}}]),app.directive("ngListItemBox",[function(){return{restrict:"C",templateUrl:"modules/listItemBox/listItemBox.html",scope:{singlePhone:"=",pageType:"=",category:"=",gh:"=",activity:"=",params:"="},link:function(e,t,o){var n=e.singlePhone.phoneTypes[0].mediaProductList;e.mainColor=n[getIndex(n,"selected",1)],e.selectedColor=function(t,o){return 1==t&&void(e.mainColor=o)},e.writeSelectFoods=function(t,o,n){writebdLog(e.category,"_ClickGoods"+o,"渠道号",e.gh)}}}}]),app.directive("onFinish",["$timeout",function(e){return{restrict:"A",link:function(t,o,n){t.$last===!0&&e(function(){t.$emit("ngRepeatFinished")})}}}]),app.directive("owlCarousel",["$http","$compile",function(e,t){return{restrict:"E",templateUrl:"modules/owlCarousel/owlCarousel.html",scope:{imgUrls:"="},link:function(e,t,o){}}}]).directive("carouselItem",["$http","$compile",function(e,t){return{restrict:"C",link:function(e,t,o){e.$last&&$(t).parent().owlCarousel({navigation:!0,slideSpeed:300,paginationSpeed:400,singleItem:!0,autoPlay:3e3})}}}]),app.directive("phoneColors",["$http","$q","$timeout",function(e,t,o){return{restrict:"E",templateUrl:"modules/phoneColors/phoneColors.html",link:function(t,o,n){t.colorTitle=n.title,t.colorSubTitle=n.subTitle,t.phone.$promise.then(function(o){e.get("/data/phones/colors/"+t.phone.phoneModel+".json").success(function(e){t.colors=e,t.color=e[getIndex(e,"selected","curr")]})}),t.setPhoneColor=function(e,o){e.preventDefault();var n=$(e.currentTarget);return!n.hasClass("disabled")&&(n.parent().siblings().children().removeClass("curr"),n.addClass("curr"),t.color=o,writebdLog(t.category,"_FuselageColor","渠道号",t.gh),void 0)},t.dialogShow=function(e,o){t.$root.dialog.open(e,o)},t.$watch("productId",function(e,t,o){if(e!=t&&o.colors)if(256==e||257==e){if(o.colors[0].selected="disabled",$("#color0").removeClass("curr"),"亮黑色"==o.color.colorName){var n=getIndex(o.colors,"colorName","黑色");o.color=o.colors[n],$("#color"+n).addClass("curr"),o.dialogShow("","'亮黑色'暂时没货，帮您换成了黑色，或者您可以重新选择")}}else o.colors[0].selected=""})}}}]),app.directive("ngPhoneQuery",["$cookieStore",function(e){return{restrict:"C",templateUrl:"modules/phoneQuery/n.html",controller:"numberController",link:function(e,t,o){e.hasSubNumber=o.hasSubNumber;$(".content-scrollable");e.$root.checkMainNumber=function(){return!!e.productDetailsForm.mainNumber.$valid||(e.mainNumberShow=!0,e.subNumberShow=!1,!1)},e.checkSubNumber=function(){return!!e.productDetailsForm.subNumber.$valid||(e.mainNumberShow=!1,e.subNumberShow=!0,!1)},e.setMainNumber=function(t,o){t.stopPropagation(),checkSameNumber(o.n,e.subNumber)?(e.mainNumber=o.n,e.mainNumberShow=!1,writebdLog(e.category,"_mainSelectNumber","渠道号",e.gh)):e.$root.dialog.open("系统提示","您选择的主卡号码和副卡号码相同，请重新选择")},e.setSubNumber=function(t,o){t.stopPropagation(),checkSameNumber(e.mainNumber,o.n)?(e.subNumber=o.n,e.subNumberShow=!1,writebdLog(e.category,"_subSelectNumber","渠道号",e.gh)):e.$root.dialog.open("系统提示","您选择的主卡号码和副卡号码相同，请重新选择")},e.showMNumberPn=function(t){t.preventDefault(),e.mainNumberShow=!0,e.subNumberShow=!1,writebdLog(e.category,"_mainCuteNumber","渠道号",e.gh)},e.showSNumberPn=function(t){t.preventDefault(),e.subNumberShow=!0,e.mainNumberShow=!1,writebdLog(e.category,"_subCuteNumber","渠道号",e.gh)},e.miniTabClose=function(e){e&&e.preventDefault(),$(".mini-tab").removeClass("hover")},e.filterN=function(e){e.s<=800}}}}]).controller("numberController",["$scope","$cookieStore","$http","$compile",function($scope,$cookieStore,$http){$scope.phoneData=new Array,$scope.phoneSubData=new Array,$scope.phoneMainFilter=function(e){var t=new Array;""!=e?($.each($scope.phoneData,function(o,n){n.n.indexOf(e)>=0&&t.push(n)}),$scope.filterData=t):$scope.filterData=$scope.phoneData,$scope.mainItems=$scope.filterData.slice(0,$scope.pageSize),$scope.dataInit()},$scope.phoneSubFilter=function(e){var t=new Array;""!=e?($.each($scope.phoneSubData,function(o,n){n.n.indexOf(e)>=0&&t.push(n)}),$scope.filterSubData=t):$scope.filterSubData=$scope.phoneSubData,$scope.subItems=$scope.filterSubData.slice(0,$scope.pageSize),$scope.dataInit()},$scope.inputNumber=function(e,t){""!=e&&writebdLog($scope.category,"_"+t+"InputNumber","渠道号",$scope.gh)},$http.jsonp("http://m.gd189fq.com/wap/taokafanghaoNew/fetchLuckNumber.html?callback=JSON_CALLBACK").success(function(data,status,headers,config){data=data.sort(function(e,t){return t.s-e.s}),$.each(eval(data),function(e,t){t.s<=800&&($scope.phoneData.push(t),0==t.t&&$scope.phoneSubData.push(t))}),$scope.dataInit=function(){$scope.selPage=1,$scope.selSubPage=1,$scope.pageList=[],$scope.pages=Math.ceil($scope.filterData.length/$scope.pageSize),$scope.newPages=$scope.pages>5?5:$scope.pages;for(var e=0;e<$scope.newPages;e++)$scope.pageList.push(e+1)},$scope.filterData=$scope.phoneData,$scope.filterSubData=$scope.phoneSubData,$scope.pageSize=12,$scope.setData=function(e){"main"==e?$scope.mainItems=$scope.filterData.slice($scope.pageSize*($scope.selPage-1),$scope.selPage*$scope.pageSize):$scope.subItems=$scope.filterSubData.slice($scope.pageSize*($scope.selSubPage-1),$scope.selSubPage*$scope.pageSize)},$scope.mainItems=$scope.filterData.slice(0,$scope.pageSize),$scope.subItems=$scope.filterSubData.slice(0,$scope.pageSize),$scope.dataInit(),$scope.selectPage=function(e,t){if(!(e<1||e>$scope.pages)){if(e>2){for(var o=[],n=e-3;n<(e+2>$scope.pages?$scope.pages:e+2);n++)o.push(n+1);$scope.pageList=o}"main"==t?$scope.selPage=e:$scope.selSubPage=e,$scope.setData(t),$scope.isActivePage(e)}},$scope.isActivePage=function(e){return $scope.selPage==e},$scope.Previous=function(e){"main"==e?$scope.selectPage($scope.selPage-1,e):$scope.selectPage($scope.selSubPage-1,e),writebdLog($scope.category,"_"+e+"ChangeALot","渠道号",$scope.gh)},$scope.Next=function(e){"main"==e?$scope.selectPage($scope.selPage+1,e):$scope.selectPage($scope.selSubPage+1,e),writebdLog($scope.category,"_"+e+"ChangeALot","渠道号",$scope.gh)}}).error(function(e,t,o,n){console.log(t)})}]),app.directive("ngRushBack",["$location","$http","$cookieStore",function(e,t,o){return{restrict:"C",templateUrl:"modules/rush/rush.html",link:function(e,n,r){e.getActiveProList=function(t){e.activeDate=t},e.dayTag="today",e.rushPrev=function(t){"today"==e.dayTag&&(e.dayTag="before"),"before"==e.dayTag&&(e.dayTag="before"),"after"==e.dayTag&&(e.dayTag="today")},e.rushNext=function(t){"today"==e.dayTag&&(e.dayTag="after"),"before"==e.dayTag&&(e.dayTag="today"),"after"==e.dayTag&&(e.dayTag="after")},e.isDisabled=function(e,t){"before"==t&&e.preventDefault()},t.jsonp(apiBaseUrl+"/product/getActiveProList.html?activeTag=xsqg&s=wap&callback=JSON_CALLBACK").success(function(t,o,n,r){e.nowDate=t[0].nowDate,e.todayD=t[0].nowDate.split(" ")[0],e.rushPhones=t[0].productList;var i=new Date(t[0].nowDate.split(" ")[0].replace(/-/g,"/")+" 00:00:00"),a=new Date(t[0].nowDate.split(" ")[0].replace(/-/g,"/")+" 00:00:00"),s=new Date(t[0].nowDate.split(" ")[0].replace(/-/g,"/")+" 00:00:00");i.setTime(i.getTime()),a.setTime(a.getTime()-864e5),s.setTime(s.getTime()+864e5),e.todayT=i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate(),e.todayB=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate(),e.todayA=s.getFullYear()+"-"+(s.getMonth()+1)+"-"+s.getDate(),e.nowDate.split(" ")[1].split(":")[0]<=11?e.activeDate=e.todayD+" 10":e.nowDate.split(" ")[1].split(":")[0]>=13?e.activeDate=e.todayD+" 15":e.activeDate=e.todayD+" 12"}).error(function(e,t,o,n){console.log(t)}),e.$watch("dayTag",function(e,o,n){e!=o&&t.jsonp(apiBaseUrl+"/product/getActiveProList.html?activeTag=xsqg&activeTime="+n.dayTag+"&s=wap&callback=JSON_CALLBACK").success(function(e,t,o,r){n.rushPhones=e[0].productList,"today"==n.dayTag&&(n.activeDate=n.todayT+" 10"),"before"==n.dayTag&&(n.activeDate=n.todayB+" 10"),"after"==n.dayTag&&(n.activeDate=n.todayA+" 10")}).error(function(e,t,o,n){console.log(t)})}),e.$watch("activeDate",function(e,t,n){e!=t&&o.put("rashActiveDate",e+":00:00")})}}}]),app.directive("ngStar",[function(){return{restrict:"C",replace:!0,scope:{ratting:"="},templateUrl:"modules/star/star.html",link:function(e,t,o){e.$watch("ratting",function(e,o,n){for(var r=(parseInt(n.ratting[0])+parseInt(n.ratting[1])+parseInt(n.ratting[2]))/3,i=$(t).find(".stars-content").find("i"),a=0;a<5;a++)a<r&&(a<Math.round(r)?i.eq(a).addClass("on"):i.eq(a).attr("class","fa fa-star-half on"))})}}}]),app.directive("ngTimer",["$location","$interval",function(e,t){return{restrict:"C",scope:{dateDay:"="},templateUrl:"modules/timer/timer.html",link:function(e,o,n){e.dateTag=n.dateTag,e.startT=(e.dateDay+" "+n.startTime).replace(/-/g,"/"),e.endT=(e.dateDay+" "+n.endTime).replace(/-/g,"/"),e.nowT=n.nowTime.replace(/-/g,"/"),e.startTitle=n.startTitle;var r=new Date(e.startT)-new Date(e.nowT),i=new Date(e.endT)-new Date(e.nowT);t(function(){r-=1e3,i-=1e3;var t=Math.floor(r/1e3/60/60%48),o=Math.floor(r/1e3/60%60),n=Math.floor(r/1e3%60),a=Math.floor(i/1e3/60/60%48),s=Math.floor(i/1e3/60%60),l=Math.floor(i/1e3%60);e.timerS="<i>"+t+"</i><sub> : </sub><i>"+o+"</i><sub> : </sub><i>"+n+"</i>",e.timerE="<i>"+a+"</i><sub> : </sub><i>"+s+"</i><sub> : </sub><i>"+l+"</i>"},1e3);e.$watch("dateDay",function(e,t,o){})}}}]),app.directive("userTrack",["$location",function(e){return{restrict:"C",link:function(e,t,o){!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?bf6b21f0333ca2693c4bc666d044360e";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()}}}]),app.config(["$routeProvider","$locationProvider",function(e,t){e.when("/yfq/:pageType/abs",{templateUrl:"pages/aboutUs/index.html",controller:"aboutUsController"})}]).controller("aboutUsController",["$scope","$routeParams",function(e,t){e.$root.pageType=t.pageType,e.$root.params=window.location.search}]),app.config(["$routeProvider","$locationProvider",function(e,t){e.when("/error/:status",{templateUrl:function(e){return"pages/error/error.html"},controller:"errorStateController"})}]).controller("errorStateController",["$scope","$location","$cookieStore","MarketSvc","$routeParams","OrderSvc",function(e,t,o,n,r,i){e.errorStatus=r.status,t.search()&&(e.errorData=t.search()),e.getContent=function(){getMeiqia(),_MEIQIA("showPanel")}}]),app.config(["$routeProvider","$locationProvider",function(e,t){e.when("/form/resume",{templateUrl:function(e){return"pages/form/form.html"},controller:"resumeController"})}]).controller("resumeController",["$scope",function(e){}]),app.config(["$routeProvider","$locationProvider",function(e,t){e.when("/payState/:pageType/:state",{templateUrl:function(e){return"pages/payState/payState.html"},controller:"payStateController"})}]).controller("payStateController",["$scope","$location","$cookieStore","MarketSvc","$routeParams","OrderSvc",function(e,t,o,n,r,i){function a(e,t){return e<=t?Math.floor(e):t}function s(e,t){for(var o=0;o<=t/5;o++){if(50*o==e)return 5*o;if(50*o>e)return 5*(o-1);if(50*o<e&&5*o>=t)return t}}e.$root.pageType=r.pageType,e.state=r.state,e.orderNo=r.orderNo,e.orderProduct=unescape(r.orderProduct),e.orderPrice=r.orderPrice,e.returnUrl=r.returnUrl,e.rechargeDetails="",e.goToMall=function(t){"flow"===t&&(e.tipsShow=!0),"phone"===t&&(window.location.href="http://mall.yfq.cn")},i.getOrder(e.orderNo).then(function(t){e.order=t[0],"phone"===e.state&&(e.getCoupon=0),"flow"===e.state&&("话费充值"==e.order.product.productname?(e.rechargeDetails=e.order.flowPrice.productName+"话费",e.getCoupon=s(e.order.salesOrder.amount,30)):(e.rechargeDetails=e.order.flowPrice.productName+e.order.flowPrice.region+"流量",e.getCoupon=a(e.order.salesOrder.totalamount,30)))})}]),app.directive("mainNumber",["$compile",function(e){return{restrict:"C",templateUrl:"modules/chooseNumber/mainNumber/number.html",controller:"chooseNumberController",link:function(e,t,o){e.$root.checkMainNumber=function(){return!!e.productDetailsForm.mainNumber.$valid||(e.onclickSpan(1,3),!1)}}}}]).controller("chooseNumberController",["$scope","$cookieStore","$http","$compile",function($scope,$cookieStore,$http,$compile){$scope.phoneData=new Array;var curr;$scope.onclickSpan=function(parenIndex,pos){$("#idNumDiv").attr("class","tooltip bottom t-"+parenIndex+" l"+pos);var i,numNow,selectSpan;for(numNow="",selectSpan=$("#choose-nums"+parenIndex+" li"),curr=pos,selectSpan.eq(pos).nextAll().attr("class","none"),selectSpan.eq(pos).attr("data-value",""),selectSpan.eq(pos).nextAll().attr("data-value",""),i=0;i<curr;i++)numNow+=selectSpan.eq(i).attr("data-value");var jsonDs=getNumArr(numNow);$("#idNumDiv .numberContent ul").html(""),""==selectSpan.eq(i-1).attr("data-value")?$("#idNumDiv .numberContent ul").append("<li class='alert' style='background:none; color:#000; font-size:14px;'>请先选择上一位号码，谢谢：）</li>"):(selectSpan.eq(pos).attr("class","wnone"),$.each(eval(jsonDs),function(e,t){var o=$compile("<li ng-click='onclickLi("+parenIndex+","+t+")' class='n"+t+"' value="+t+">"+t+"</li>")($scope);$("#idNumDiv .numberContent ul").append(o)}),tooltipShow("#idNumDiv")),$(".i-package-info").find("hr").hide(),$(".i-package-info").find(".more").hide()},$scope.onclickLi=function(e,t){var o,n;if($("#choose-nums"+e+" li").eq(curr).attr("data-value",t),$("#choose-nums"+e+" li").eq(curr).attr("class","s"+t),$("#idNumDiv").css("display","none"),$("#idNumDiv").attr("class","tooltip bottom t-"+e+" l"+curr),curr<10)return void $scope.onclickSpan(e,curr+1);if(1==e&&10==curr){for($("#idNumDiv .tooltip-arrow").css("class","l10"),n="",o=0;o<11;o++)n+=$("#choose-nums"+e+" li").eq(o).attr("data-value");n==$("#number2").val()?(alert("您选择的号码重复，请重新选择！"),$scope.onclickSpan(1,10)):$scope.mainNumber=n}if(2==e&&10==curr){for($("#idNumDiv .tooltip-arrow").css("class","l10"),n="",o=0;o<11;o++)n+=$("#choose-nums"+e+" li").eq(o).attr("data-value");n==$scope.mainNumber?(alert("您选择的号码重复，请重新选择！"),$scope.onclickSpan(2,3)):$scope.subNumber=n}$("#idNumDiv").is(":visible")||(2==e?writebdLog($scope.category,"_subSelectNumber","渠道号",$scope.gh):writebdLog($scope.category,"_mainSelectNumber","渠道号",$scope.gh))}}]),app.directive("subNumber",["$compile",function(e){return{restrict:"C",templateUrl:"modules/chooseNumber/subNumber/number.html",controller:"chooseNumberController",link:function(e,t){}}}]),app.directive("headerLogo",["$location",function(e){return{restrict:"C",templateUrl:"modules/header/logo/logo.html",link:function(e,t,o){}}}]),app.directive("headerTop",["$location",function(e){return{restrict:"C",templateUrl:"modules/header/top/top.html",
link:function(e,t,o){}}}]),app.directive("mainColors",["$http","$q","$timeout","$location",function(e,t,o,n){return{restrict:"C",templateUrl:"modules/phoneColors/mainColors/colors.html",link:function(e,t,o){e.mainColorTitle=o.title,e.mainColorSubTitle=o.subTitle,n.search().colorTag?(e.mainColorIndex=getIndex(e.phone.phoneTypes[0].mediaProductList,"name",n.search().colorTag),void 0!=e.mainColorIndex&&0!=e.phone.phoneTypes[0].mediaProductList[e.mainColorIndex].stock||(e.mainColorIndex=getIndex(e.phone.phoneTypes[0].mediaProductList,"selected",1))):e.mainColorIndex=getIndex(e.phone.phoneTypes[0].mediaProductList,"selected",1),e.$root.mainColor=e.phone.phoneTypes[0].mediaProductList[e.mainColorIndex],e.$root.setMainPhoneColor=function(t,o){return!o&&(e.$root.mainColor=t,void writebdLog(e.category,"_mainFuselageColor","渠道号",e.gh))}}}}]),app.directive("subColors",["$http","$q","$timeout",function(e,t,o){return{restrict:"C",templateUrl:"modules/phoneColors/subColors/colors.html",link:function(e,t,o){e.subColorTitle=o.title,e.subColorSubTitle=o.subTitle,e.subColor=e.phone.phoneTypes[1].mediaProductList[0],e.setSubPhoneColor=function(t,o){t.preventDefault(),e.subColor=o,writebdLog(e.category,"_subFuselageColor","渠道号",e.gh)}}}}]),app.config(["$routeProvider","$locationProvider",function(e,t){e.when("/phone/:pageType/index",{templateUrl:function(e){return"pages/phone/index/"+e.pageType+"/index.html"},controller:"pIndexController"})}]).controller("pIndexController",["$scope","$location","$http","$interval","$routeParams",function(e,t,o,n,r){e.$root.pageType=r.pageType,e.$root.pageTitle="翼分期商城-广东电信官方唯一指定分期商城",e.$root.pageKeywords="手机卡、上网卡、天翼4G卡、电信套餐、电信4G、套餐资费、手机套餐、手机靓号、电信流量卡、电信4G套餐、电信手机卡、4G卡、iphone手机、华为手机、苹果手机、oppo手机、vivo手机",e.$root.pageDescription="传飞翼分期商城是中国电信唯一指定分期平台，提供手机、平板、笔记本、数码相机等3C类产品分期购物服务，分期购机价和手续费都是全网最低，上线至今赢得客户的一致好评与信赖！产品都是正品国行，分期手续便捷，还款方式灵活。咨询热线：020-85599918。",e.$root.pageName="index",e.appType=systemName+"_ljzm_"+e.pageType+"_index",e.category=e.appType,""==window.location.search?e.$root.params="?gh=&activity=":e.$root.params=window.location.search,writebdLog(e.category,"_Load","渠道号",e.gh),e.getContact=function(){getMeiqia(),_MEIQIA("showPanel"),writebdLog(e.category,"_CustConsult","渠道号",e.gh)},o.jsonp("http://sell.yfq.cn/product/getProList.ht?activeTag=ljzma&pt=pc&s=wap&callback=JSON_CALLBACK").success(function(t,o,n,r){e.singlePhones=t,console.log(typeof e.singlePhones[0].sortOrder),e.pkgs=t,$("#banner").owlCarousel({navigation:!0,slideSpeed:300,paginationSpeed:400,singleItem:!0,autoPlay:3e3}),$("#brand").owlCarousel({navigation:!0,slideSpeed:300,paginationSpeed:400,items:8,autoPlay:3e3,navigationText:["&lt",">"],pagination:!1})}).error(function(e,t,o,n){console.log(t)}),e.ftClose=function(){$(".footer-ft").hide()},e.writeSelectFoods=function(t,o,n){writebdLog(e.category,"_ClickGoods"+o,"渠道号",e.gh)},e.$root.scrollTo=function(t,o,n){e.navSortIndex=o,$("html,body").animate({scrollTop:$(n).offset().top},500,"swing")},e.$on("ngRepeatFinished",function(e){$("img.lazy").lazyload({effect:"fadeIn"})}),e.priceArea=[1500,3500],e.setPriceArea=function(t){e.priceArea=t};var i=$(window);window.onscroll=function(){var t=$(".index-nav-sort");i.scrollTop()>720?(t.addClass("is-lift-nav-fixed"),i.scrollTop()>=$(".single-phone").offset().top&&e.$apply(function(){e.navSortIndex=1})):t.removeClass("is-lift-nav-fixed")},e.$on("$destroy",function(){window.onscroll=null})}]),app.config(["$routeProvider","$locationProvider",function(e,t){e.when("/phone/:pageType/list",{templateUrl:function(e){return"pages/phone/list/"+e.pageType+"/list.html"},controller:"pListController"})}]).controller("pListController",["$scope","$location","$http","$routeParams","$filter",function(e,t,o,n,r){e.$root.pageType=n.pageType,e.$root.pageTitle="翼分期商城-广东电信官方唯一指定分期商城",e.$root.pageKeywords="手机卡、上网卡、天翼4G卡、电信套餐、电信4G、套餐资费、手机套餐、手机靓号、电信流量卡、电信4G套餐、电信手机卡、4G卡、iphone手机、华为手机、苹果手机、oppo手机、vivo手机",e.$root.pageDescription="传飞翼分期商城是中国电信唯一指定分期平台，提供手机、平板、笔记本、数码相机等3C类产品分期购物服务，分期购机价和手续费都是全网最低，上线至今赢得客户的一致好评与信赖！产品都是正品国行，分期手续便捷，还款方式灵活。咨询热线：020-85599918。",e.appType=systemName+"_ljzm_"+e.pageType+"_list",e.category=e.appType,e.$root.pageName="list",""==window.location.search?e.$root.params="?gh=&activity=":e.$root.params=window.location.search,e.gh=t.search().gh,writebdLog(e.category,"_Load","渠道号",e.gh),e.getContact=function(){getMeiqia(),_MEIQIA("showPanel"),writebdLog(e.category,"_CustConsult","渠道号",e.gh)},e.$root.filterBrand="all",e.filterSpec="all",e.$root.filterPrice="all",e.phoneFilter="null",e.filterSellOut=!0,t.search().spec&&"all"!=t.search().spec&&(e.filterSpec=t.search().spec),t.search().brand&&"all"!=t.search().brand&&(e.$root.filterBrand=t.search().brand),t.search().price&&"all"!=t.search().price&&(e.$root.filterPrice=$.parseJSON(unescape(t.search().price))),t.search().brandMore?e.brandMore=$.parseJSON(unescape(t.search().brandMore)):e.brandMore=!1,e.showBrandMore=function(t){e.brandMore=t},e.filterObj={brand:e.$root.filterBrand,spec:e.filterSpec,price:e.$root.filterPrice,sellOut:e.filterSellOut},e.pageSize=16,e.dataInit=function(){e.selPage=1,e.setData()},e.setData=function(){e.filterData=r("phoneListFilter")(e.singlePhones,e.filterObj.brand,e.filterObj.spec,e.filterObj.price,e.filterObj.sellOut),e.mainItems=e.filterData.slice(e.pageSize*(e.selPage-1),e.selPage*e.pageSize),e.pages=Math.ceil(e.filterData.length/e.pageSize)},e.selectPage=function(t){t<1||t>e.pages||(e.selPage=t,e.setData(),e.isActivePage(t))},e.toListTop=function(){$("html,body").animate({scrollTop:$(".phone-filter").offset().top},500,"swing")},e.isActivePage=function(t){return e.selPage==t},e.Previous=function(){e.selectPage(e.selPage-1),e.toListTop()},e.Next=function(){e.selectPage(e.selPage+1),e.toListTop()},o.jsonp("http://sell.yfq.cn/product/getProDetailList.ht?activeTag=ljzma&s=wap&callback=JSON_CALLBACK").success(function(t,o,n,r){e.singlePhones=t;var i=["iPhone","华为","OPPO","vivo","小米"],a=[];$.each(t,function(e,t){a.indexOf(t.brandName)===-1&&i.indexOf(t.brandName)===-1&&a.push(t.brandName)}),e.brands=a,e.dataInit()}).error(function(e,t,o,n){console.log(t)}),toTop(),e.ifSellOut=!1,e.showIfSellOut=function(){e.filterObj.sellOut=!e.filterObj.sellOut,writebdLog(e.category,"_FilterStock","渠道号",e.gh)},e.setFilterBrand=function(t){e.filterObj.brand=t,writebdLog(e.category,"_FilterBrand","渠道号",e.gh)},e.setFilterSpec=function(t){e.filterObj.spec=t,writebdLog(e.category,"_FilterSpec","渠道号",e.gh)},e.setFilterPrice=function(t){e.filterObj.price=t,writebdLog(e.category,"_FilterPrice","渠道号",e.gh)},e.setPhoneFilter=function(t){e.phoneFilter=t,t.indexOf("-")===-1?e.singlePhones=e.singlePhones.sort(function(e,o){return o[t]-e[t]}):e.singlePhones=e.singlePhones.sort(function(e,o){return e[t.substring(1)]-o[t.substring(1)]}),e.dataInit(),writebdLog(e.category,"_"+t.replace("-",""),"渠道号",e.gh)},e.ftClose=function(){$(".footer-ft").hide()},e.$watch("filterObj",function(e,t,o){e!=t&&o.dataInit()},!0),e.$on("ngRepeatFinished",function(e){$("img.lazy").lazyload({effect:"fadeIn"})})}]),app.config(["$routeProvider","$locationProvider",function(e,t){e.when("/phs/db/:pageType/:phoneId",{templateUrl:function(e){return"pages/phone/details/double/"+e.pageType+"/double.html"},controller:"pDoubleProController"})}]).controller("pDoubleProController",["$scope","$location","$http","$interval","$routeParams",function(e,t,o,n,r){e.$root.pageTitle="翼分期商城-广东电信官方唯一指定分期商城",e.$root.pageType=r.pageType,e.$root.params=window.location.search,e.activeTag="mysy",e.mainTipsIndex=0,e.mainPayTipsIndex=0,e.appType=systemName+"_mysy_"+e.pageType+"_DoublePhones",e.category=e.appType,e.phoneQueryUrl=window.location.href,writebdLog(e.category,"_Load","渠道号",e.gh),e.buyType=1,toTop(),o.jsonp("http://m.yfq.cn/product/getProDetial.html?productId="+r.phoneId+"&activeTag=mysy&pt=pc&s=wap&callback=JSON_CALLBACK").success(function(t,o,n,r){e.phone=t,e.$root.pageTitle=e.phone.phoneTypes[0].productName+" + "+e.phone.phoneTypes[1].productName+"产品页-翼分期商城",e.$root.pageKeywords=e.phone.phoneTypes[0].productName+" + "+e.phone.phoneTypes[1].productName+","+e.phone.phoneTypes[0].productName+" + "+e.phone.phoneTypes[1].productName+"全网通,"+e.phone.phoneTypes[0].productName+" + "+e.phone.phoneTypes[1].productName+"分期, "+e.phone.phoneTypes[0].productName+" + "+e.phone.phoneTypes[1].productName+"优惠, "+e.phone.phoneTypes[0].productName+" + "+e.phone.phoneTypes[1].productName+"秒杀,手机卡、上网卡、天翼4G卡、电信套餐、电信4G、套餐资费、手机套餐、手机靓号、电信流量卡、电信4G套餐",e.$root.pageDescription=e.phone.phoneTypes[0].productName+" + "+e.phone.phoneTypes[1].productName+"入网即享0利息0手续费轻松购。传飞翼分期商城是中国电信唯一指定分期平台，提供手机、平板、笔记本、数码相机等3C类产品分期购物服务，分期购机价和手续费都是全网最低，上线至今赢得客户的一致好评与信赖！咨询热线：020-85599918。",e["package"]=e.phone.packageProductList[0],e.totolPrice=t.salePrice,e.totolPrice>1500?e.payType=2:e.payType=0}).error(function(e,t,o,n){console.log(t)}),o.jsonp("http://m.yfq.cn/product/getProList.html?activeTag=mysy&pt=pc&s=wap&callback=JSON_CALLBACK").success(function(t,o,n,r){e.doublePhones=t}).error(function(e,t,o,n){console.log(t)}),e.domShow=function(t,o){t.preventDefault(),$("body").addClass("modal-open"),$(o).show(),writebdLog(e.category,"_Show"+o.replace("#",""),"渠道号",e.gh)},e.domHide=function(e,t){e.preventDefault(),$("body").removeClass("modal-open"),$(t).hide()},e.setPackage=function(t,o){t.preventDefault(),e["package"]=o,writebdLog(e.category,"_SelectPackage","渠道号",e.gh)};var i,a=["payAll","payCOD","payMonthly"];e.setPayType=function(t,o){t.preventDefault(),e.payType=o,i=a[o],writebdLog(e.category,"_"+i,"渠道号",e.gh)},e.submitForm=function(t){t.preventDefault(),e.checkMainNumber()&&(writebdLog(e.category,"_BuyNow","渠道号",e.gh),$("#productDetailsForm").submit())}}]),app.config(["$routeProvider","$locationProvider",function(e,t){e.when("/phs/rs/:pageType/:phoneId/:activityProductId/:activeDate/:dayTag",{templateUrl:function(e){return"pages/phone/details/rush/"+e.pageType+"/rush.html"},controller:"pRushProController"})}]).controller("pRushProController",["$scope","$location","$http","$interval","$routeParams","$cookieStore",function(e,t,o,n,r,i){e.$root.pageType=r.pageType,e.activeDate=r.activeDate,e.activityProductId=r.activityProductId,e.$root.params=window.location.search,e.activeTag="xsqg",e.category=systemName+"_mysy_"+e.pageType+"_RushPhones",e.phoneQueryUrl="http://"+t.host()+t.url(),writebdLog(e.category,"_Load","渠道号",e.gh),e.mainTipsIndex=0,e.mainPayTipsIndex=0,o.jsonp("http://m.yfq.cn/product/getProDetial.html?productId="+r.phoneId+"&activeTag=jjk&pt=pc&s=wap&callback=JSON_CALLBACK").success(function(t,o,n,r){e.phone=t,e.$root.pageTitle=e.phone.phoneTypes[0].productName+"产品页-翼分期商城",e.$root.pageKeywords=e.phone.phoneTypes[0].productName+","+e.phone.phoneTypes[0].productName+"全网通,"+e.phone.phoneTypes[0].productName+"分期, "+e.phone.phoneTypes[0].productName+"优惠, "+e.phone.phoneTypes[0].productName+"秒杀,手机卡、上网卡、天翼4G卡、电信套餐、电信4G、套餐资费、手机套餐、手机靓号、电信流量卡、电信4G套餐",e.$root.pageDescription=e.phone.phoneTypes[0].productName+"入网即享0利息0手续费轻松购。传飞翼分期商城是中国电信唯一指定分期平台，提供手机、平板、笔记本、数码相机等3C类产品分期购物服务，分期购机价和手续费都是全网最低，上线至今赢得客户的一致好评与信赖！咨询热线：020-85599918。",e["package"]=e.phone.packageProductList[0],e.totolPrice=t.salePrice,e.payType=0}).error(function(e,t,o,n){console.log(t)}),e.rashActiveDate=i.get("rashActiveDate"),e.rashActiveDateE=e.rashActiveDate.split(" ")[0]+" "+(parseInt(r.activeDate)+1)+":00:00",o.jsonp(apiBaseUrl+"/product/getServerTime.html?s=wap&s=wap&callback=JSON_CALLBACK").success(function(t,o,n,r){e.serverTime=t[0].serverTime}).error(function(e,t,o,n){console.log(t)}),o.jsonp(apiBaseUrl+"/product/getActiveProductLast.html?activeTag=xsqg&activeTime="+r.activeDate+"&activeDate="+r.dayTag+"&s=wap&callback=JSON_CALLBACK").success(function(t,o,n,i){e.phoneStatu=t[0].productList[getIndex(t[0].productList,"activityProductId",r.activityProductId)],console.log(t)}).error(function(e,t,o,n){console.log(t)}),e.activeTagName="裸机+5折话费套餐",e.buyType=1,toTop();var a,s=["payAll","payCOD","payMonthly"];e.setPayType=function(t,o){t.preventDefault(),e.payType=o,a=s[o],writebdLog(e.category,"_"+a,"渠道号",e.gh)},e.setPackage=function(t,o,n){e["package"]=o,e.mainTipsIndex=n,writebdLog(e.category,"_SelectPackage","渠道号",e.gh)},o.jsonp("http://m.yfq.cn/product/getProList.html?activeTag=jjk&pt=pc&s=wap&callback=JSON_CALLBACK").success(function(t,o,n,r){e.singlePhones=t}).error(function(e,t,o,n){console.log(t)}),e.domShow=function(t,o){t.preventDefault(),$("body").addClass("modal-open"),$(o).show(),writebdLog(e.category,"_Show"+o.replace("#",""),"渠道号",e.gh)},e.domHide=function(e,t){e.preventDefault(),$("body").removeClass("modal-open"),$(t).hide()},e.submitForm=function(t){return t.preventDefault(),!$("#productBuyNow").hasClass("disabled")&&void(1==e.buyType?e.checkMainNumber()&&(writebdLog(e.category,"_BuyNow","渠道号",e.gh),$("#productDetailsForm").submit()):(writebdLog(e.category,"_BuyNow","渠道号",e.gh),$("#productDetailsForm").submit()))}}]),app.config(["$routeProvider","$locationProvider",function(e,t){e.when("/phs/sg/:pageType/:phoneId",{templateUrl:function(e){return"pages/phone/details/single/"+e.pageType+"/single.html"},controller:"pSingleProController"})}]).controller("pSingleProController",["$scope","$location","$http","$interval","$routeParams",function(e,t,o,n,r){e.$root.pageTitle="翼分期商城-广东电信官方唯一指定分期商城",e.$root.pageType=r.pageType,e.$root.params=window.location.search,e.activeTag="ljzma",e.category=systemName+"_ljzm_"+e.pageType+"_SinglePhones",e.phoneQueryUrl="http://"+t.host()+t.url(),writebdLog(e.category,"_Load","渠道号",e.gh),e.mainTipsIndex=0,e.mainPayTipsIndex=0,e.limitNo=5,e.setlimitNo=function(t){e.limitNo=t},e.$root.pageName="details",o.jsonp(cfApi.apiHost+"/product/getProDetial.ht?productId="+r.phoneId+"&activeTag=ljzma&s=wap&callback=JSON_CALLBACK").success(function(t,n,i,a){e.phone=t,e.phone.phoneTypes[0].fullDescription&&(e.phone.phoneTypes[0].fullDescription=e.phone.phoneTypes[0].fullDescription.replace(/src=\"\/upload\//gi,'src="http://cz.gd189fq.com/backend/upload/')),e.$root.pageTitle=e.phone.phoneTypes[0].productName+"产品页-翼分期商城",e.$root.pageKeywords=e.phone.phoneTypes[0].productName+","+e.phone.phoneTypes[0].productName+"全网通,"+e.phone.phoneTypes[0].productName+"分期, "+e.phone.phoneTypes[0].productName+"优惠, "+e.phone.phoneTypes[0].productName+"秒杀,手机卡、上网卡、天翼4G卡、电信套餐、电信4G、套餐资费、手机套餐、手机靓号、电信流量卡、电信4G套餐",e.$root.pageDescription=e.phone.phoneTypes[0].productName+"入网即享0利息0手续费轻松购。传飞翼分期商城是中国电信唯一指定分期平台，提供手机、平板、笔记本、数码相机等3C类产品分期购物服务，分期购机价和手续费都是全网最低，上线至今赢得客户的一致好评与信赖！咨询热线：020-85599918。",e.payType=0,e.successUrl="http://mall.yfq.cn/payState/B/phone",o.jsonp("http://cz.gd189fq.com/yfqcz/czInterfaceController.do?messageDetail&productId="+r.phoneId+"&s=wap&callback=JSON_CALLBACK").success(function(t,o,n,r){e.feedbacks=t,e.feedbackType="all"}).error(function(e,t,o,n){console.log(t)})}).error(function(e,t,o,n){console.log(t)}),e.activeTagName="裸机+5折话费套餐",e.buyType=0,toTop();var i,a=["payAll","payCOD","payMonthly"];e.setPayType=function(t,o){e.payType=o,i=a[o],writebdLog(e.category,"_"+i,"渠道号",e.gh)},e.setFlashDriver=function(t,o){return!o&&(e.productId=t.productId,void writebdLog(e.category,"_FuselageMemory","渠道号",e.gh))},o.jsonp(cfApi.apiHost+"/product/getProList.ht?activeTag=ljzma&s=wap&callback=JSON_CALLBACK").success(function(t,o,n,r){e.singlePhones=t}).error(function(e,t,o,n){console.log(t)}),e.domShow=function(t,o){t.preventDefault(),$("body").addClass("modal-open"),$(o).show(),writebdLog(e.category,"_Show"+o.replace("#",""),"渠道号",e.gh)},e.domHide=function(e,t){e.preventDefault(),$("body").removeClass("modal-open"),$(t).hide()},e.submitForm=function(t){return t.preventDefault(),!$("#productBuyNow").hasClass("disabled")&&($("#productDetailsForm").submit(),void writebdLog(e.category,"_BuyNow","渠道号",e.gh))},e.setFeedbackType=function(t){e.feedbackType=t,writebdLog(e.category,"_"+t,"渠道号",e.gh)},e.$watch("feedbackType",function(e,t,o){o.typeFeedbacks=[],void 0!=e&&e!=t&&o.feedbacks.success&&("all"===e&&$.each(o.feedbacks.result,function(e,t){o.typeFeedbacks.push(t)}),"best"===e&&$.each(o.feedbacks.result,function(e,t){var n=parseInt(t.starRating1)+parseInt(t.starRating2)+parseInt(t.starRating3);n/3>=4&&o.typeFeedbacks.push(t)}),"good"===e&&$.each(o.feedbacks.result,function(e,t){var n=parseInt(t.starRating1)+parseInt(t.starRating2)+parseInt(t.starRating3);n/3>2&&n/3<4&&o.typeFeedbacks.push(t)}),"bad"===e&&$.each(o.feedbacks.result,function(e,t){var n=parseInt(t.starRating1)+parseInt(t.starRating2)+parseInt(t.starRating3);n/3<=2&&o.typeFeedbacks.push(t)}))}),e.$watch("productId",function(e,t,n){e!=t&&o.jsonp(cfApi.apiHost+"/product/getProDetial.ht?productId="+e+"&activeTag=ljzma&s=wap&callback=JSON_CALLBACK").success(function(t,r,i,a){n.phone=t,n.phone.phoneTypes[0].fullDescription&&(n.phone.phoneTypes[0].fullDescription=n.phone.phoneTypes[0].fullDescription.replace(/src=\"\/upload\//gi,'src="http://cz.gd189fq.com/backend/upload/'));var s=(t.phoneTypes[0].mediaProductList,getIndex(t.phoneTypes[0].mediaProductList,"name",n.$root.mainColor.name));void 0==s||0==t.phoneTypes[0].mediaProductList[s].stock?n.$root.mainColor=t.phoneTypes[0].mediaProductList[getIndex(t.phoneTypes[0].mediaProductList,"selected",1)]:n.$root.mainColor=t.phoneTypes[0].mediaProductList[s],o.jsonp("http://cz.gd189fq.com/yfqcz/czInterfaceController.do?messageDetail&productId="+e+"&s=wap&callback=JSON_CALLBACK").success(function(e,t,o,r){n.feedbacks=e,n.feedbackType="all"}).error(function(e,t,o,n){console.log(t)})}).error(function(e,t,o,n){console.log(t)})})}]);